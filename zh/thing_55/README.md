#让界面易于正确使用，不易错误使用

软件开发中最常见的任务之一是接口规范。接口出现在最高抽象级别(用户界面)、最低抽象级别(函数接口)和介于两者之间的级别(类接口、库接口等)。无论您是与最终用户合作以指定他们将如何与系统交互，与开发人员协作以指定API，还是声明类的私有函数，接口设计都是您工作的重要部分。如果你做得好，你的界面会很好用，也会提高别人的工作效率。如果你做得不好，你的界面将成为挫败感和错误的来源。

良好的接口包括：

-**易于正确使用。**使用设计良好的界面的人几乎总是正确使用界面，因为这是阻力最小的路径。在图形用户界面中，他们几乎总是点击正确的图标、按钮或菜单项，因为这是显而易见且容易做的事情。在API中，它们几乎总是使用正确的值传递正确的参数，因为这是最自然的。有了易于正确使用的界面，*一切都能正常工作。*
-**很难不正确地使用。**好的界面会预见到人们可能会犯的错误，并使这些错误很难--理想情况下是不可能的--提交。例如，图形用户界面可以禁用或删除在当前上下文中没有意义的命令，或者API可以通过允许以任何顺序传递参数来消除参数排序问题。

设计易于正确使用的界面的一个好方法是在它们存在之前进行练习。模拟一个图形用户界面--可能是在白板上或使用桌子上的索引卡--并在创建任何底层代码之前使用它。在声明函数之前编写对API的调用。演练常见用例，并指定您“希望”该界面如何运行。您希望能够点击什么？你“希望”通过什么考试？易于使用的界面看起来很自然，因为它们允许您做您想做的事情。如果您从用户的角度来开发这样的界面，那么您更有可能想出这样的界面。(这种观点是测试优先编程的优势之一。)

要让接口很难被错误地使用，需要两件事。首先，您必须预测用户可能会犯的错误，并找到防止它们的方法。其次，您必须观察接口在早期发布期间是如何被误用的，并修改接口--是的，修改接口！--以防止此类错误。防止错误使用的最好方法是让这种使用变得不可能。如果用户一直想撤消不可撤销的操作，请尝试将该操作设置为可撤销。如果他们不断地向API传递错误的值，请尽量修改API以获取用户想要传递的值。

最重要的是，记住界面的存在是为了方便用户，而不是为了实现者。

作者：[Scott Meyers](http://programmer.97things.oreilly.com/wiki/index.php/Scott_Meyers)