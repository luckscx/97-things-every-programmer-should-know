#代码布局很重要

几年前，我在一个Cobol系统上工作，在这个系统中，员工不被允许更改缩进，除非他们已经有理由更改代码，因为有人曾经因为让一行滑入一行开头的某个特殊列而破坏了某些东西。即使布局具有误导性(有时确实如此)，这一点仍然适用，因此我们必须非常仔细地阅读代码，因为我们不能信任它。在程序员的拖累下，这项政策肯定花了一大笔钱。

有研究表明，我们都把更多的编程时间花在导航和阅读代码上--查找在哪里*进行更改--而不是实际打字，所以这就是我们想要优化的。

-*易于扫描。*人们非常擅长视觉模式匹配(这是我们不得不在大草原上辨认狮子时的遗留问题)，所以我可以帮助自己，通过标准化使所有与该领域不直接相关的东西--大多数商业语言附带的所有“意外复杂性”--消失在背景中。如果行为相同的代码看起来是一样的，那么我的感知系统将帮助我区分不同之处。这就是为什么我还遵守有关如何在编译单元中布局类的各个部分的约定：常量、字段、公共方法、私有方法。

-*富有表现力的布局。*我们都学会了花时间找到正确的名称，以便我们的代码尽可能清楚地表达它的功能，而不仅仅是列出步骤-对吗？代码的布局也是这种表现力的一部分。第一步是让团队就基本内容的自动格式化达成一致，然后我可能会在编写代码时手动进行调整。除非存在积极的分歧，否则团队将很快汇聚到共同的“手工完成”风格上。格式化程序无法理解我的意图(我应该知道，我曾经编写过一个)，对我来说，更重要的是换行符和分组反映代码的意图，而不仅仅是语言的语法。(凯文·麦奎尔让我从自动代码格式化程序的束缚中解脱出来。)

-*紧凑格式。*我在屏幕上显示的越多，我就可以看到越多内容，而不会通过滚动或切换文件来破坏上下文，这意味着我可以在脑海中保持较少的状态。长程序注释和大量空格对于8个字符的名称和行式打印机来说是有意义的，但现在我生活在一个执行语法着色和交叉链接的IDE中。像素是我的限制因素，所以我希望每个人都能为我理解代码做出贡献。我希望布局能帮助我理解代码，但仅此而已。

一位非程序员的朋友曾经评论说，代码看起来像诗歌。我从非常好的代码中得到了这种感觉，文本中的每一件事都有一个目的，它在那里帮助我理解想法。不幸的是，编写代码与编写诗歌不具有相同的浪漫形象。

作者：[Steve Freeman](http://programmer.97things.oreilly.com/wiki/index.php/Steve_Freeman)
