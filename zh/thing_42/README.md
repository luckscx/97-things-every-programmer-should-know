#保持建筑整洁

你有没有看过一篇关于糟糕编码的文章长度的编译器警告清单，然后对自己说：“你知道，我真的应该为此做点什么……但我现在没有时间。”另一方面，您是否曾经看到过一个单独的警告，它只是出现在编译中，然后就修复了它？

当我从头开始一个新项目时，没有警告，没有杂乱，没有问题。但随着代码库的增长，如果我不注意，混乱、棘手、警告和问题可能会开始堆积起来。当噪音很大时，在数百条我不在乎的警告中，很难找到我真正想要阅读的警告。

为了使警告再次有用，我尝试对来自构建的警告使用零容忍策略。即使警告不重要，我也会处理它。如果不是关键的，但仍然相关的，我会修复它。如果编译器警告潜在的空指针异常，我会修复原因--即使我“知道”这个问题永远不会出现在生产中。如果嵌入的文档(Javadoc或类似文档)引用了已删除或重命名的参数，我会清理文档。

如果这是我真的不在乎的事情，那真的无关紧要，我会问团队我们是否可以改变我们的警告政策。例如，我发现在许多情况下，记录方法的参数和返回值并不会增加任何价值，因此如果它们丢失了，也不应该是一个警告。或者，升级到新版本的编程语言可能会使以前正常的代码现在发出警告。例如，当Java 5引入泛型时，所有没有指定泛型类型参数的旧代码都会给出警告。这是一种我不想被唠叨的警告(至少现在还不想)。提出一系列与现实不符的警告对任何人都没有好处。

通过确保构建始终是干净的，我不必在每次遇到警告时都认为它无关紧要。忽视事物是脑力劳动，我需要摆脱我所能做的所有不必要的脑力劳动。拥有一个干净的构建也会让其他人更容易接管我的工作。如果我留下警告，其他人将不得不费力处理哪些是相关的，哪些是不相关的。或者更有可能的是，忽略所有的警告，包括那些重要的警告。

来自您的生成的警告非常有用。你只需要摆脱噪音，就能开始注意到它们。不要等到大扫除。当一些你不想看到的事情出现时，立即处理它。修复警告的来源、取消显示此警告或修复工具的警告策略。保持构建的整洁不仅仅是为了避免编译错误或测试失败：警告也是代码卫生的重要和关键部分。

作者：[Johannes Brodwall](http://programmer.97things.oreilly.com/wiki/index.php/Johannes_Brodwall)