#应用函数式编程原则

函数式编程最近重新受到主流编程社区的关注。部分原因是因为功能范例的“新特性”很好地应对了我们的行业向多核转变带来的挑战。然而，尽管这肯定是一个重要的应用程序，但这并不是本文告诫您“了解您的函数式编程”的原因。

掌握函数式编程范例可以极大地提高您在其他环境中编写的代码的质量。如果你深入理解和应用功能范例，你的设计将展现出更高程度的“参照透明度”。

引用透明性是一个非常理想的属性：它意味着函数在给定相同输入的情况下始终产生相同的结果，而不管它们在何时何地被调用。也就是说，函数计算不太依赖于可变状态的副作用--理想情况下，一点也不依赖。

命令性代码中缺陷的一个主要原因是可变变量。每个阅读这篇文章的人都会调查为什么某些价值在特定情况下不像预期的那样。可见性语义可以帮助缓解这些隐蔽的缺陷，或者至少大幅缩小它们的位置，但它们的真正罪魁祸首实际上可能是采用了过度易变性的设计的天意。

在这方面，我们肯定得不到工业界的太多帮助。面向对象的介绍默认地促进了这种设计，因为它们经常显示由相对较长寿命的对象的图形组成的示例，这些对象愉快地相互调用赋值方法，这可能是危险的。然而，有了精明的测试驱动设计，特别是在确保[“模拟角色，而不是Objects”](http://www.jmock.org/oopsla2004.pdf)，]的情况下，不必要的可变性可以被设计出来。

最终的结果是，设计通常具有更好的责任分配，具有更多、更小的函数，这些函数对传递给它们的参数起作用，而不是引用可变的成员变量。将会有更少的缺陷，而且它们通常会更容易调试，因为在这些设计中定位引入流氓数值的位置比以其他方式推断导致错误赋值的特定上下文更容易。这增加了更高的引用透明度，肯定地说，没有什么比学习函数式编程语言更深入地了解这些思想了，在函数式编程语言中，这种计算模型是常态。

当然，这种方法并不是在所有情况下都是最佳的。例如，在面向对象的系统中，这种风格对域模型开发(即协作用于分解业务规则的复杂性)通常比用户界面开发产生更好的结果。

掌握函数式编程范例，这样您就能够明智地将学到的经验应用到其他领域。你的对象系统(比如)将与引用透明性和好性产生共鸣，并且比许多人希望你相信的更接近它们的功能对应物。事实上，有些人甚至会断言，函数式编程的顶峰和面向对象的顶峰*仅仅是彼此的反映*，是计算阴阳的一种形式。

作者：[Edward Garson](http://programmer.97things.oreilly.com/wiki/index.php/Edward_Garson)