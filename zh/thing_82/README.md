# 在你睡觉时（以及周末）进行测试

放松。我并不是在谈论离岸开发中心、周末加班或夜班工作。相反，我想让你注意到我们手头有多少计算能力。具体来说，我们有多少计算能力没有被利用来让程序员的生活变得更轻松一些。你是否经常发现工作日难以获得足够的计算能力？如果是这样，你的测试服务器在正常工作之外的时间在做什么？大多数情况下，测试服务器在夜间和周末是闲置的。你可以利用这一点。

- *你是否曾经在没有运行所有测试的情况下提交了更改？* 程序员在提交代码之前不运行测试套件的主要原因之一是它们可能需要很长时间。当截止日期临近，压力山大时，人们自然会开始偷工减料。解决这个问题的一种方法是将大型测试套件分解为两个或多个配置文件。一个较小且强制性的测试配置文件，运行速度快，有助于确保在每次提交之前运行测试。所有的测试配置文件（包括强制性配置文件——只是为了确保）都可以自动化在夜间运行，准备在早上报告结果。

- *你有足够的机会测试产品的稳定性吗？* 长时间运行的测试对于识别内存泄漏和其他稳定性问题至关重要。它们很少在白天运行，因为这会占用时间和资源。你可以自动化一个浸泡测试在夜间运行，并在周末运行更长时间。从周五下午6点到下周一早上6点，有60小时的潜在测试时间。

- *你在性能测试环境中获得了足够的高质量时间吗？* 我见过团队为了在性能测试环境中获得时间而争吵。在大多数情况下，两个团队在白天都没有获得足够的高质量时间，而环境在下班后几乎处于闲置状态。服务器和网络在夜间或周末并不那么繁忙。这是运行一些高质量性能测试的理想时间。

- *手动测试的排列组合是否太多？* 在许多情况下，你的产品旨在在各种平台上运行。例如，32位和64位，在Linux、Solaris和Windows上，或者仅仅是在同一操作系统的不同版本上。更糟糕的是，许多现代应用程序暴露在大量的传输机制和协议（HTTP、AMQP、SOAP、CORBA等）中。手动测试所有这些排列组合非常耗时，并且由于资源压力，很可能在接近发布时完成。唉，可能在这个周期中为时已晚，无法捕捉到某些讨厌的错误。

在夜间或周末运行的自动化测试将确保所有这些排列组合更频繁地被测试。通过一些思考和脚本知识，你可以安排一些*cron*作业在夜间和周末启动一些测试。还有许多测试工具可以帮助你。一些组织甚至拥有跨不同部门和团队的服务器网格，以确保资源得到有效利用。如果你的组织中有这种资源，你可以提交测试在夜间或周末运行。

作者：[Rajith Attapattu](http://programmer.97things.oreilly.com/wiki/index.php/Rajith_Attapattu)