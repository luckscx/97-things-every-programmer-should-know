#只有代码才能说出真相

程序的最终语义由运行的代码给出。如果这只是二进制形式，将是一个困难的阅读！但是，如果是您的程序、任何典型的商业软件开发、开放源码项目或动态解释语言的代码，则源代码应该是可用的。看一下源代码，程序的含义应该是显而易见的。要了解程序的功能，源代码最终是您所能确定的全部内容。即使是最准确的需求文档也不能说明全部事实：它不包含程序实际在做什么的详细故事，只包含需求分析人员的高层意图。设计文档可能会捕获计划中的设计，但它将缺少实现的必要细节。这些文档可能与当前实施失去同步...或者可能只是迷路了。或者一开始就没写过。源代码可能是唯一剩下的东西了。

记住这一点，问问你自己，你的代码告诉你或任何其他程序员它在做什么有多清楚？

你可能会说，“哦，我的评论会告诉你你需要知道的一切。”但请记住，注释不是运行代码。它们可能和其他形式的文档一样是错误的。有一种传统认为注释是无条件的好事，所以毫无疑问，一些程序员写了越来越多的注释，甚至重复和解释代码中已经很明显的琐事。这是澄清代码的错误方式。如果您的代码需要注释，请考虑将其重构为不需要。冗长的注释可能会使屏幕空间变得混乱，甚至可能会被您的IDE自动隐藏。如果需要解释更改，请在版本控制系统签入消息中解释，而不是在代码中解释。

您可以做些什么来让您的代码尽可能清楚地告诉您真相呢？争取好的名字。根据内聚功能来组织代码，这也简化了命名。将代码解耦以实现正交性。编写解释预期行为的自动化测试并检查接口。当您学会如何编写更简单、更好的解决方案时，就会毫不留情地重构。使您的代码尽可能简单易读和理解。

像对待任何其他文章一样对待您的代码，例如一首诗、一篇文章、一篇公共博客或一封重要的电子邮件。精心设计你所表达的东西，让它做它应该做的事情，并尽可能直接地传达它正在做的事情，这样当你不在身边时，它仍然能传达你的意图。记住，有用的代码被使用的时间比预期的要长得多。维护程序员会感谢您的。而且，如果您是一名维护程序员，并且您正在编写的代码不容易说出真相，请以主动的方式应用上面的指导原则。在代码中建立一些理智，并保持您自己的理智。

作者：[Peter Sommerlad](http://programmer.97things.oreilly.com/wiki/index.php/Peter_Sommerlad)