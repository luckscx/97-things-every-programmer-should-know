#首选特定于域的类型而不是基元类型

1999年9月23日，价值3.276亿美元的火星气候轨道器在进入火星轨道时因地球上的一个软件错误而丢失。这个错误后来被称为*指标混淆*。地面站软件以磅为单位工作，而航天器预计为牛顿，导致地面站将航天器推进器的功率低估了4.45倍。

这是许多软件故障的例子之一，如果应用了更强大和更特定于领域的类型，这些故障是可以避免的。它也是Ada语言中许多功能背后的基本原理的一个例子，Ada语言的主要设计目标之一是实现嵌入式安全关键软件。Ada具有强类型，可对原始类型和用户定义类型进行静态检查：

```
键入Velocity_in_Knots是新的浮点范围0.0.500.00；

键入Distance_in_Nautical_Miles是新的浮点范围0.0.3000.00；

速度：速度_in_结；

距离：以海里计的距离；

SOME_NUMBER：浮点；

SOME_NUMBER：=距离+速度；--将被编译器捕获为类型错误。
```

要求较低的领域中的开发人员也可能受益于应用更多特定于领域的类型，否则他们可能会继续使用该语言及其库提供的原始数据类型，如字符串和浮点数。在Java、C++、Python和其他现代语言中，抽象数据类型称为类。使用`Velocity_in_Knots`和`Distance_in_nautical_Miles`这样的类在代码质量方面增加了很多价值：

-代码变得更具可读性，因为它表达了域的概念，而不仅仅是浮点或字符串。
-随着代码封装了易于测试的行为，代码变得更具可测试性。
-该代码促进了跨应用程序和系统的重用。

该方法对于静态和动态类型语言的用户同样有效。唯一的区别是，使用静态类型语言的开发人员可以从编译器获得一些帮助，而那些采用动态类型语言的开发人员更有可能依赖于他们的单元测试。检查的风格可能不同，但动机和表达风格不同。

其寓意是开始探索特定于领域的类型，以开发高质量的软件。

作者：[Eina Landre](http://programmer.97things.oreilly.com/wiki/index.php/Einar_Landre)
