# 不要害怕破坏事物

每个有行业经验的人都无疑曾在一个代码库岌岌可危的项目上工作过。系统设计得不好，改变一件事总是会破坏另一个不相关的功能。每当添加一个模块时，程序员的目标是尽可能少地改变，并在每次发布时屏住呼吸。这就像在摩天大楼里用工字梁玩积木游戏，注定会引发灾难。

之所以做出改变如此令人紧张，是因为系统生病了。它需要医生，否则它的状况只会恶化。你已经知道你的系统出了什么问题，但你害怕打破鸡蛋来做煎蛋卷。一位熟练的外科医生知道为了手术必须进行切割，但熟练的外科医生也知道这些切割是暂时的，会愈合。手术的最终结果值得最初的痛苦，病人应该会恢复到比手术前更好的状态。

不要害怕你的代码。在你移动东西时，如果某些东西暂时被破坏了，谁在乎呢？对变化的瘫痪性恐惧是你的项目陷入这种状态的原因。投入时间进行重构将在项目的生命周期中多次回报自己。一个额外的好处是，你的团队在处理病态系统方面的经验使你们都成为了知道它*应该*如何工作的专家。应用这些知识，而不是怨恨它。在一个你讨厌的系统上工作不是任何人应该花时间的方式。

重新定义内部接口，重构模块，重构复制粘贴的代码，并通过减少依赖来简化你的设计。你可以通过消除角落案例来显著降低代码复杂性，这些案例通常是由于功能耦合不当造成的。慢慢地将旧结构过渡到新结构，并在过程中进行测试。试图在“一次大动作”中完成大规模重构会导致足够多的问题，使你在中途考虑放弃整个努力。

成为不害怕切除病态部分以腾出愈合空间的外科医生。这种态度具有传染性，会激励其他人开始处理他们一直推迟的清理项目。保持一个“卫生”任务列表，团队认为这些任务对项目的总体利益是值得的。说服管理层，即使这些任务可能不会产生可见的结果，它们也会减少开支并加快未来的发布。永远不要停止关心代码的总体“健康”。

作者：[Mike Lewis](http://programmer.97things.oreilly.com/wiki/index.php/Mike_Lewis)