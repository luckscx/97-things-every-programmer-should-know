# Unix工具是你的朋友

如果我不得不在流放到荒岛时选择带一个IDE还是Unix工具集，我会毫不犹豫地选择Unix工具。以下是你应该熟练掌握Unix工具的原因。

首先，IDE针对特定语言，而Unix工具可以处理任何以文本形式出现的内容。在当今每年都有新语言和符号涌现的开发环境中，学习以Unix方式工作是一项会反复带来回报的投资。

此外，虽然IDE只提供其开发者设想的命令，但使用Unix工具，你可以执行任何你能想象的任务。将它们视为（经典的前Bionicle）乐高积木：你只需通过组合小巧但功能强大的Unix工具来创建自己的命令。例如，以下序列是基于文本的Cunningham签名分析的实现——每个文件的分号、大括号和引号的序列，可以揭示文件内容的很多信息。

```
for i in *.java; do 
    echo -n "$i: "
    sed 's/[^"{};]//g' $i | tr -d '\n'
    echo
done
```

此外，你学习的每个IDE操作都是特定于该任务的；例如，在项目的调试构建配置中添加一个新步骤。相比之下，提高你的Unix工具技能可以使你在任何任务中更有效率。举个例子，我使用了前面命令序列中的sed工具来改变项目的构建，以便在多个处理器架构上进行交叉编译。

Unix工具是在多用户计算机只有128kB内存的时代开发的。它们设计中的巧妙之处意味着如今它们可以非常高效地处理庞大的数据集。大多数工具像过滤器一样工作，一次只处理一行数据，这意味着它们可以处理的数据量没有上限。你想在半TB的英文维基百科转储中搜索编辑次数吗？只需简单调用

```
grep '<revision>' | wc –l 
```

就能轻松得到答案。如果你发现一个命令序列通常有用，你可以轻松地将其打包成一个shell脚本，使用一些特别强大的编程结构，比如将数据管道传输到循环和条件语句中。更令人印象深刻的是，像前面那样的Unix命令作为管道执行时，会自然地将其负载分布到现代多核CPU的多个处理单元上。

Unix工具的小巧美观和开源实现使它们无处不在，即使在资源受限的平台上，比如我的机顶盒媒体播放器或DSL路由器。这些设备不太可能提供强大的图形用户界面，但它们通常包含BusyBox应用程序，该应用程序提供了最常用的工具。如果你在Windows上开发，Cygwin环境为你提供了所有可以想象的Unix工具，既有可执行文件形式，也有源代码形式。

最后，如果现有的工具都不符合你的需求，扩展Unix工具的世界非常容易。只需编写一个程序（用你喜欢的任何语言），遵循一些简单的规则：你的程序应该只执行一个任务；它应该从其标准输入中读取文本行数据；并且它应该在其标准输出上显示结果，不带标题和其他噪音。影响工具操作的参数在命令行中给出。遵循这些规则，“地球及其中的一切都属于你”。

作者：[Diomidis Spinellis](http://programmer.97things.oreilly.com/wiki/index.php/Diomidis_Spinellis)