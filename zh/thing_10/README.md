# 谨慎选择你的工具

现代应用程序很少从零开始构建。它们通常使用现有的工具——组件、库和框架——进行组装，这有以下几个很好的理由：

- 应用程序的规模、复杂性和精细度不断增加，而开发时间却越来越短。如果开发人员能够专注于编写更多的业务领域代码，而不是基础设施代码，那么他们的时间和智慧将得到更好的利用。

- 广泛使用的组件和框架可能比内部开发的组件和框架有更少的错误。

- 网上有很多高质量的免费软件，这意味着更低的开发成本，并且更容易找到具有必要兴趣和专业知识的开发人员。

- 软件的生产和维护是人力密集型的工作，因此购买可能比构建更便宜。

然而，为你的应用程序选择合适的工具组合可能是一个需要深思熟虑的棘手问题。事实上，在选择工具时，你应该记住以下几点：

- 不同的工具可能依赖于不同的上下文假设——例如，周围的基础设施、控制模型、数据模型、通信协议等——这可能导致应用程序与工具之间的架构不匹配。这种不匹配会导致代码变得比必要的更复杂，因为需要各种变通和修补。

- 不同的工具有不同的生命周期，升级其中一个工具可能变得极其困难和耗时，因为新功能、设计变更甚至错误修复可能会导致与其他工具的不兼容。工具越多，问题可能越严重。

- 有些工具需要相当多的配置，通常通过一个或多个XML文件进行，这些文件可能会迅速失控。应用程序最终可能看起来像是全部用XML编写的，再加上一些编程语言中的几行代码。配置的复杂性将使应用程序难以维护和扩展。

- 当代码严重依赖于特定供应商的产品时，可能会在多个方面受到限制：可维护性、性能、演进能力、价格等，这就是所谓的供应商锁定。

- 如果你计划使用免费软件，你可能会发现它并不完全免费。你可能需要购买商业支持，而这并不一定便宜。

- 许可条款很重要，即使是免费软件。例如，在某些公司中，使用GNU许可条款下的软件是不可接受的，因为它的“病毒性”——即使用它开发的软件必须与其源代码一起分发。

我个人缓解这些问题的策略是从小处着手，只使用绝对必要的工具。通常，最初的焦点是消除进行低级基础设施编程（和问题）的需要，例如，通过使用一些中间件而不是使用原始套接字来开发分布式应用程序。然后根据需要添加更多工具。我还倾向于通过接口和分层将外部工具与我的业务领域对象隔离开来，这样如果我必须更换工具，只需付出很小的代价。这种方法的一个积极副作用是，我通常最终会得到一个比最初预测使用更少外部工具的更小的应用程序。

作者：[Giovanni Asproni](http://programmer.97things.oreilly.com/wiki/index.php/Giovanni_Asproni)