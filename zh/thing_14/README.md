#代码评审

您应该做代码审查。为什么？因为它们“提高了代码质量”并“降低了缺陷率”。但不一定是出于你可能认为的原因。

因为他们以前可能在审查方面有过一些糟糕的经历，所以许多程序员倾向于不喜欢代码审查。我见过一些组织要求所有代码在部署到生产环境之前都要通过正式审查。通常是架构师或首席开发人员进行审查，这种做法可以被描述为*架构师审查一切*。这是在他们的软件开发过程手册中规定的，因此程序员必须遵守。可能有一些组织需要这样一个僵化和正式的过程，但大多数组织不需要。在大多数组织中，这种方法会适得其反。被审查者可能会觉得他们正在接受假释委员会的审判。审查者既需要时间阅读代码，也需要时间与系统的所有细节保持同步。评审员可能很快成为这个过程中的瓶颈，这个过程很快就会退化。

代码审查的目的不是简单地纠正代码中的错误，而是“共享知识”并建立共同的编码指导方针。与其他程序员共享您的代码可以实现代码的集体所有权。让随机的团队成员与团队的其他成员一起*遍历代码*。您应该通过尝试学习和理解代码来检查代码，而不是寻找错误。

在代码审查过程中要温和。确保评论是*建设性的，而不是尖酸刻薄的*。为评审会议引入不同的“评审角色”，以避免团队成员的组织资历影响代码评审。角色的例子可能包括让一个审查者专注于文档，另一个专注于异常，第三个专注于功能。这种方法有助于将审查负担分散到团队成员中。

每周有一个定期的“代码审查”日。花几个小时参加一个评审会。在每次会议中以简单的循环模式轮换被审阅人。记住，每次评审会也要在团队成员之间互换角色。*让新手*参与代码审查。他们可能缺乏经验，但他们新鲜的大学知识可以提供一个不同的视角。*请专家参与，以表彰他们的经验和知识。他们将更快、更准确地识别容易出错的代码。如果团队有*由工具检查的*编码约定*，那么代码审查将更容易进行。这样，代码审查会议将永远不会讨论代码格式化。

*让代码审查变得有趣*可能是成功的最重要因素。评论是关于人们评论的。如果评审会很痛苦或乏味，就很难激励任何人。让它成为一种“非正式的代码审查”，其主要目的是在团队成员之间共享知识。把挖苦的评论留在外面，带上蛋糕或棕色袋子午餐。

作者：[Mattias Karlsson](http://programmer.97things.oreilly.com/wiki/index.php/Mattias_Karlsson)