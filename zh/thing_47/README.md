# 了解你的下一次提交

我拍了拍三位程序员的肩膀，问他们在做什么。第一个回答：“我正在重构这些方法。”第二个回答：“我正在给这个Web操作添加一些参数。”第三个回答：“我正在处理这个用户故事。”

乍一看，前两位似乎沉浸在他们工作的细节中，而只有第三位能看到大局，似乎后者更有全局观。然而，当我问他们何时以及会提交什么时，情况发生了戏剧性的变化。前两位非常清楚会涉及哪些文件，并且会在大约一小时内完成。第三位程序员回答：“哦，我想我几天内就能准备好。我可能会添加几个类，并可能以某种方式修改那些服务。”

前两位并不缺乏对整体目标的愿景。他们选择了他们认为能朝着有成效方向发展的任务，并且可以在几个小时内完成。一旦他们完成了这些任务，他们会选择一个新的功能或重构来继续工作。因此，所有编写的代码都有一个明确的目的和一个有限的、可实现的目标。

第三位程序员未能将问题分解，而是同时处理所有方面。他根本不知道需要做什么，基本上是在进行推测性编程，希望最终能够提交。很可能在这个长时间会话开始时编写的代码与最终得出的解决方案不太匹配。

如果前两位程序员的任务超过两个小时，他们会怎么做？在意识到自己承担了太多任务后，他们很可能会丢弃他们的更改，定义更小的任务，然后重新开始。继续工作会缺乏重点，并导致推测性代码进入代码库。相反，更改会被丢弃，但获得的见解会被保留。

第三位程序员可能会继续猜测，并拼命尝试将他的更改拼凑成可以提交的东西。毕竟，你不能丢弃你已经完成的代码更改——那将是浪费工作，不是吗？不幸的是，不丢弃代码会导致一些稍微奇怪的、缺乏明确目的的代码进入代码库。

在某些时候，即使是专注于提交的程序员也可能无法找到他们认为可以在两小时内完成的有用内容。然后，他们会直接进入推测模式，摆弄代码，当然，每当一些见解使他们回到正轨时，就会丢弃更改。即使是这些看似无结构的黑客会话也有其目的：了解代码，以便能够定义一个构成有成效步骤的任务。

了解你的下一次提交。如果你无法完成，丢弃你的更改，然后根据你获得的见解定义一个你相信的新任务。在需要时进行推测性实验，但不要让自己不知不觉地陷入推测模式。不要将猜测性的工作提交到你的代码库中。

作者：[Dan Bergh Johnsson](http://programmer.97things.oreilly.com/wiki/index.php/Dan_Bergh_Johnsson)