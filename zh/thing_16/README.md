# 关于注释的评论

在我大学的第一堂编程课上，老师发了两张BASIC编程纸。黑板上写着作业：“编写一个程序，输入并计算10个保龄球得分的平均值。”然后老师就离开了教室。这能有多难呢？我不记得我最终的解决方案是什么，但我确信其中有一个`FOR/NEXT`循环，整个程序不会超过15行。编程纸——对于正在阅读这篇文章的年轻人来说，是的，我们曾经在将代码输入计算机之前手写代码——每张纸大约可以写70行代码。我非常困惑为什么老师会给我们两张纸。由于我的字迹一直很糟糕，我用第二张纸非常工整地重新抄写了我的代码，希望能因为风格而获得一些额外的分数。

令我非常惊讶的是，当我在下一节课开始时收到作业时，我只得到了一个勉强及格的分数。（这预示着我大学剩余时间的命运。）在我工整抄写的代码顶部潦草地写着：“没有注释？”

仅仅老师和我知道程序应该做什么是不够的。作业的一部分目的是教会我，我的代码应该向后续的程序员解释自己。这是一个我从未忘记的教训。

注释并不是邪恶的。它们与基本的分支或循环结构一样，是编程中不可或缺的。大多数现代语言都有类似于javadoc的工具，可以解析格式正确的注释以自动构建API文档。这是一个非常好的开始，但还远远不够。在你的代码中应该包含关于代码应该做什么的解释。遵循古老的格言“如果写起来很难，那么读起来也应该很难”来编写代码，对你的客户、雇主、同事和未来的自己都是一种伤害。

另一方面，你可能会在注释上做得过头。确保你的注释能够澄清你的代码，而不是掩盖它。在代码中散布相关的注释，解释代码应该完成什么。你的头部注释应该给任何程序员足够的信息来使用你的代码，而不需要阅读它，而你的行内注释应该帮助下一个开发者修复或扩展它。

在一次工作中，我不同意上级做出的设计决策。像年轻程序员常做的那样，我感到有些刻薄，于是将指示我使用他们设计的电子邮件文本粘贴到文件的头部注释块中。结果发现，这家公司的经理们实际上在代码提交时会审查代码。这是我第一次接触到“职业限制行为”这个术语。

作者：[Cal Evans](http://programmer.97things.oreilly.com/wiki/index.php/Cal_Evans)