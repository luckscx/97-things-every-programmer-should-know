# 冗长的日志记录会打扰你的睡眠

当我遇到一个已经开发或运行了一段时间的系统时，第一个真正的麻烦迹象总是杂乱的日志。你知道我在说什么。当在网页的正常流程中点击一个链接时，系统提供的唯一日志中会涌现出大量的消息。过多的日志记录可能与完全没有日志一样无用。

如果你的系统和我的一样，当你的工作完成时，其他人的工作才刚刚开始。系统开发完成后，希望它能长期繁荣地为客户服务。如果你幸运的话。当系统在生产环境中出现问题时，你如何知道，并且如何处理？

也许有人会为你监控系统，或者你自己会监控它。无论哪种方式，日志很可能是监控的一部分。如果出现问题，你必须被叫醒处理，你希望确保有充分的理由。如果我的系统即将崩溃，我想知道。但如果只是小问题，我宁愿享受我的美容觉。

对于许多系统来说，出现问题的第一个迹象是某个日志中写入了一条日志消息。大多数情况下，这将是错误日志。所以帮自己一个忙：从一开始就确保，如果错误日志中记录了某些内容，你愿意让人在半夜打电话叫醒你。如果你能在系统测试期间模拟系统负载，查看一个无噪音的错误日志也是系统相对健壮的一个良好初步迹象。或者，如果不是，它也是一个早期预警。

分布式系统增加了另一层复杂性。你必须决定如何处理外部依赖失败的情况。如果你的系统非常分布式，这可能是一个常见的情况。确保你的日志记录策略考虑到这一点。

一般来说，一切正常的最佳迹象是较低优先级的消息愉快地持续出现。我希望每个重要的应用程序事件大约有一条INFO级别的日志消息。

杂乱的日志表明系统一旦进入生产环境将难以控制。如果你不期望错误日志中出现任何内容，那么当确实出现问题时，知道该做什么会容易得多。

作者：[Johannes Brodwall](http://programmer.97things.oreilly.com/wiki/index.php/Johannes_Brodwall)