# 预防错误

错误信息是用户与系统之间最重要的交互之一。它们通常发生在用户与系统之间的沟通接近崩溃点时。

人们很容易认为错误是由用户的错误输入引起的。但人们会以可预测的、系统性的方式犯错。因此，你可以像调试其他系统组件之间的通信一样，调试用户与系统之间的通信。

例如，假设你希望用户输入一个在允许范围内的日期。与其让用户输入任意日期，不如提供一个仅显示允许日期的列表或日历控件。这样可以完全消除用户输入超出范围日期的可能性。

格式错误是另一个常见问题。例如，如果用户面对一个日期输入框，并输入了一个明确的日期，如“2012年7月29日”，仅仅因为它不符合首选格式（如“DD/MM/YYYY”）就拒绝它是不可取的。更糟糕的是，拒绝“29 / 07 / 2012”因为它包含额外的空格——这种问题尤其难以让用户理解，因为日期看起来符合所需的格式。

这种错误的发生是因为拒绝日期比解析三四种最常见的日期格式更容易。这类小错误会导致用户沮丧，进而导致用户注意力不集中，从而引发更多错误。相反，应该尊重用户输入信息的偏好，而不是数据。

避免格式错误的另一种方法是提供提示——例如，在输入框内显示所需格式的标签（“DD/MM/YYYY”）。另一种提示可能是将输入框分为三个文本框，分别用于输入两位、两位和四位字符。

提示与说明不同：提示通常是简短的暗示；说明则较为冗长。提示出现在交互点；说明出现在交互点之前。提示提供上下文；说明则规定使用方法。

一般来说，说明在预防错误方面效果不佳。用户倾向于假设界面会按照他们过去的经验工作（“当然每个人都知道‘2012年7月29日’是什么意思？”）。因此，说明往往不会被阅读。提示则能引导用户远离错误。

避免错误的另一种方法是提供默认值。例如，用户通常输入与*今天*、*明天*、*我的生日*、*我的截止日期*或*上次使用此表单时输入的日期*相对应的值。根据上下文，其中一个可能是作为智能默认值的好选择。

无论错误的原因是什么，系统都应该对错误保持宽容。你可以通过为所有操作提供多级*撤销*功能来实现这一点——特别是那些可能破坏或修改用户数据的操作。

记录和分析*撤销*操作还可以突出显示界面在哪里引导用户犯下无意识的错误，例如持续点击“错误”的按钮。这些错误通常是由误导性的提示或交互序列引起的，你可以重新设计这些提示或序列以防止进一步的错误。

无论你采取哪种方法，大多数错误都是系统性的——是用户与软件之间误解的结果。理解用户如何思考、解释信息、做出决策和输入数据，将帮助你调试软件与用户之间的交互。

作者：[Giles Colborne](http://programmer.97things.oreilly.com/wiki/index.php/Giles_Colborne)